<!DOCTYPE html>
<html style="height: 100%; margin: 0; padding: 0;">

<head>
    <meta charset="UTF-8">
    <title>MaybePad - Maybe Ideas Come</title>
    <link href="/assets/index.css" rel="stylesheet">
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>

<div class="container-fluid h-100">
    <div class="row h-100">
        <!-- Sidebar for the paths -->
        <div id="sidebar" class="col-md-3 border-right px-3 py-2">
            <details open class="mb-3">
                <summary>Main Path</summary>
                <div id="subpaths"></div>
            </details>
        </div>

        <!-- Editor Container -->
        <div id="editor-container" class="col-md-9 px-3 py-2">
            <textarea name="editor" id="editor" class="form-control h-100"></textarea>
        </div>
    </div>
</div>

<div class="alert alert-warning fixed-bottom mb-0 rounded-0">
    Ao usar este site, você reconhece que a plataforma é fornecida "como está", sem garantias de qualquer tipo. <a href="#" data-toggle="modal" data-target="#termsModal">Leia mais...</a>
    <button type="button" class="close" data-dismiss="alert">&times;</button>
</div>

<!-- Bootstrap Modal -->
<div class="modal fade" id="termsModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Termos de Uso</h5>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Este site é fornecido no estado em que se encontra, sem qualquer tipo de garantias, expressas ou implícitas. Não assumimos a responsabilidade pela integridade, precisão, disponibilidade, atualidade, segurança ou confiabilidade do conteúdo fornecido. Ao usar este site, você concorda em assumir todos os riscos associados e concorda em não nos responsabilizar por qualquer tipo de dano direto ou indireto resultante do uso deste site.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>

<div class="alert alert-warning fixed-bottom mb-0 rounded-0 disclaimer">
    Ao usar este site, você reconhece que a plataforma é fornecida "como está", sem garantias de qualquer tipo. <a href="#" data-toggle="modal" data-target="#termsModal">Leia mais...</a>
    <button type="button" class="close" data-dismiss="alert">&times;</button>
</div>


<!-- Carregamento dos Scripts -->
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<!-- Bootstrap JS and Popper.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script src="https://www.googletagmanager.com/gtag/js?id=G-FBBVJ554L4"></script>
<script src="/assets/ckeditorv2.js"></script>
<script src="/assets/index.js"></script>

<script>
    // Fetch the subpaths and populate the sidebar
    $(document).ready(function() {
        $.get('/api/subitems?path=' + window.location.pathname, function(data) {
            data.forEach(function(path) {
                $('#subpaths').append('<a href="' + path + '" class="d-block mb-1">' + path + '</a>');
            });
        });
    });
</script>

</body>
</html>
